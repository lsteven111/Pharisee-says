<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>üïé Pharisee Says (Voice Version)</title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    text-align: center;
    margin: 0;
    background: linear-gradient(180deg, #fff8e1, #f3efe7);
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  h1 {
    font-size: 2em;
    margin-bottom: 0.5em;
  }

  #avatars {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 20px auto;
  }

  .avatar {
    width: 140px;
    height: 140px;
    border-radius: 50%;
    background: #f0f0f0;
    border: 4px solid #444;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 4em;
    transition: transform 0.3s ease;
  }

  .speak {
    transform: scale(1.2) rotate(-5deg);
  }

  #command {
    font-size: 1.6em;
    margin: 20px;
    font-weight: 600;
    min-height: 50px;
  }

  .buttons {
    margin-top: 15px;
  }

  button {
    background-color: #ffc107;
    border: none;
    padding: 12px 24px;
    font-size: 1.1em;
    border-radius: 8px;
    cursor: pointer;
    margin: 6px;
    transition: all 0.2s ease-in-out;
  }

  button:hover {
    transform: scale(1.05);
    background-color: #ffca28;
  }

  button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
</style>
</head>
<body>
  <h1>üïé Pharisee Says</h1>

  <div id="avatars">
    <div id="pharisee" class="avatar">üßî</div>
  </div>

  <div id="command">Press ‚ÄúStart Game‚Äù to begin!</div>

  <div class="buttons">
    <button id="startBtn">‚ñ∂Ô∏è Start Game</button>
    <button id="stopBtn" disabled>‚èπÔ∏è Stop Game</button>
  </div>

<script>
  const commands = [
    "Pharisee says raise your hands!",
    "Pharisee says bow your head!",
    "Pharisee says wash your hands!",
    "Pharisee says pray!",
    "Pharisee says study the Torah!",
    "Pharisee says give alms!",
    "Pharisee says turn around!",
    "Pharisee says clap your hands!",
    "Pharisee says jump once!",
    "Raise your hands!",
    "Bow your head!",
    "Wash your hands!",
    "Pray!",
    "Study the Torah!",
    "Give alms!",
    "Turn around!",
    "Clap your hands!",
    "Jump once!",
    "Sit down!",
    "Smile!"
  ];

  const pharisee = document.getElementById("pharisee");
  const commandEl = document.getElementById("command");
  const startBtn = document.getElementById("startBtn");
  const stopBtn = document.getElementById("stopBtn");

  let gameInterval = null;
  let playing = false;

  function speak(text) {
    window.speechSynthesis.cancel();
    const utter = new SpeechSynthesisUtterance(text);
    utter.rate = 1;
    utter.pitch = 1;
    utter.lang = 'en-US';
    window.speechSynthesis.speak(utter);
  }

  function nextCommand() {
    const command = commands[Math.floor(Math.random() * commands.length)];
    commandEl.textContent = command;
    pharisee.classList.add("speak");
    speak(command);
    setTimeout(() => pharisee.classList.remove("speak"), 1000);
  }

  function startGame() {
    if (playing) return;
    playing = true;
    startBtn.disabled = true;
    stopBtn.disabled = false;
    commandEl.textContent = "Get ready...";
    setTimeout(() => {
      nextCommand();
      gameInterval = setInterval(nextCommand, 4000); // every 4 seconds
    }, 1500);
  }

  function stopGame() {
    playing = false;
    startBtn.disabled = false;
    stopBtn.disabled = true;
    clearInterval(gameInterval);
    window.speechSynthesis.cancel();
    commandEl.textContent = "Game stopped. Press Start to play again!";
  }

  window.addEventListener('DOMContentLoaded', () => {
    startBtn.addEventListener('click', startGame);
    stopBtn.addEventListener('click', stopGame);
  });
</script>
</body>
</html>
